실습을 위한 링크(https://www.kernel.org/ 에서 받아온 링크)
https://cdn.kernel.org/pub/linux/kernel/v5.x/patch-5.13.5.xz
<br><br>

Dockerfile 수정
- 앞 전에 생성했던 Dockerfile 맨 아래에 ADD https://cdn.kernel.org/pub/linux/kernel/v5.x/patch-5.13.5.xz /tmp 를 추가
<br><br>

도커파일을 이용한 컨테이너 이미지 생성 예시
- podman build -t demo:2.1
- 컨테이너 만들기 : podman run -it --name test1 demo:2.1 /bin/bash  (-d 옵션을 쓰지 않았기 때문에 포그라운드로 실행)
- ls /tmp 를 확인해보면 위 링크에서 설정한 patch-5.13.5.xz가 있음
<br><br>

다른 도커파일 예시2
- Dockerfile  
> #my first dockerfile  
> FROM rhel  
> LABEL description="kt do180 class"  
> MAINTAINER kjh xcv20123@naver.com  
> ENTRYPOINT ["/bin/date"]  
> CMD ["+%D:%H"]  

- podman build -t demo:3.0 .
- podman run -it demo:3.0 을 실행하면 날짜와 시간 출력(위의 도커파일에서 CMD부분의 영향)
- podman run -it demo:3.0 +%A 을 실행하면 요일이 출력(사용자가 지정을 해주었기 때문이고, 지정하지 않으면 디폴트인 CMD부분을 출력)
<br><br>

다른 도커파일 예시3
- Dockerfile  
> #my first dockerfile  
> FROM rhel  
> LABEL description="kt do180 class"  
> RUN echo "hi...KT user"  
> RUN ["echo", "demo 4.0 image"]  

- podman build -t demo . 를 실행하면 문구가 출력이 됨
<br><br>

히스토리 확인(실행 순서 등)
- podman history demo
<br><br>

다른 도커파일 예시4
- Dockerfile  
> #my first dockerfile  
> FROM rhel  
> LABEL description="kt do180 class"  
> ENV myAge="26"  

- podman build -t demo:5.0 .
- podman images : 생성된 이미지 확인
- podman run -it demo:5.0 /bin/bash
- env를 입력해서 환경변수를 확인해보면 myAge가 있는 것을 볼 수 있음
<br><br>

---

## 쿠버네티스의 3가지 개념
1. immutable infrastructure
2. 선언적 설정
3. 자가복구기능
<br><br>

메니페스트 파일 : 쿠버네티스에서 pod 갯수, cpu, 메모리를 얼마만큼 사용하는지, 네트워크 설정은 어떻게 되어야 하는지를 json 또는 yaml 파일로 선언
- yaml 파일로 선언하는 것을 권고
<br><br>

> ### yaml 파일 생성 시 주의사항
1. 계층 구조상 동일한 구성요소는 들여쓰기가 동일해야 함(들여쓰기 매우 중요)
   - 하위 구성요소는 상위 구성요소보다 들여쓰기가 되어야 함
   - 들여쓰기 할 때에는 오로지 공백만 사용해야 함(탭 문자 사용 불가능)  
   <br>
2. 구성(필수 요소)
   - apiVersion : api 버전 정보
   - kind : 리소스 종류
      - 어플리케이션(pod / replecaset / deployment ...)
      - 네트워크(service / ingress ...)
      - 설정파일(configmap / secret ...)
   - metadata : name(리소스 이름) 등
   - spec : 리소스의 상세내용
      - 컨테이너 이름
      - 컨테이너 이미지
      - 컨테이너 사용 포트
      - 컨테이너 환경변수
      - 등등
<br><br>

쿠버네티스 용어 : 교재 134p
<br><br>

